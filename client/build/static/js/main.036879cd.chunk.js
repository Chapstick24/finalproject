(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(31),n=c.n(s),r=c(8),i=(c(41),c(2)),l=(c(42),c(0)),o=function(){return Object(l.jsx)("header",{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"inner-content",children:[Object(l.jsx)("div",{className:"brand",children:Object(l.jsx)(r.b,{to:"/",children:"Green Stream"})}),Object(l.jsxs)("ul",{className:"nav-links",children:[Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/",children:"My Queue"})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/watched",children:"Already Seen"})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/add",className:"btn btn-main",children:" Add to Queue  "})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/signup",children:" Sign up "})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/login",children:" Login "})})]})]})})})},d=c(13),j=c(17),u=c(9),b=function(e,t){switch(t.type){case"ADD_MOVIE_TO_QUEUE":return Object(u.a)(Object(u.a)({},e),{},{queue:[t.payload].concat(Object(j.a)(e.queue))});case"REMOVE_MOVIE_FROM_QUEUE":return Object(u.a)(Object(u.a)({},e),{},{queue:e.queue.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(u.a)(Object(u.a)({},e),{},{queue:e.queue.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(j.a)(e.watched))});case"MOVE_TO_QUEUE":return Object(u.a)(Object(u.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),queue:[t.payload].concat(Object(j.a)(e.queue))});case"REMOVE_FROM_WATCHED":return Object(u.a)(Object(u.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},h={queue:localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},O=Object(a.createContext)(h),m=function(e){var t=Object(a.useReducer)(b,h),c=Object(d.a)(t,2),s=c[0],n=c[1];Object(a.useEffect)((function(){localStorage.setItem("queue",JSON.stringify(s.queue)),localStorage.setItem("watched",JSON.stringify(s.watched))}),[s]);return Object(l.jsx)(O.Provider,{value:{queue:s.queue,watched:s.watched,addMovieToQueue:function(e){n({type:"ADD_MOVIE_TO_QUEUE",payload:e})},removeMovieFromQueue:function(e){n({type:"REMOVE_MOVIE_FROM_QUEUE",payload:e})},addMovieToWatched:function(e){n({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToQueue:function(e){n({type:"MOVE_TO_QUEUE",payload:e})},removeFromWatched:function(e){n({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},x=function(e){var t=e.type,c=e.movie,s=Object(a.useContext)(O),n=s.removeMovieFromQueue,r=s.addMovieToWatched,i=s.moveToQueue,o=s.removeFromWatched;return Object(l.jsxs)("div",{className:"inner-card-controls",children:["queue"===t&&Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(c)},children:Object(l.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(l.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(c.id)},children:Object(l.jsx)("i",{className:"fa-fw fa fa-times-circle"})})]}),"watched"===t&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(c)},children:Object(l.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(l.jsx)("button",{className:"ctrl-btn",onClick:function(){return o(c.id)},children:Object(l.jsx)("i",{className:"fa-fw fa fa-times-circle"})})]})]})},p=function(e){var t=e.movie,c=e.type;return Object(l.jsxs)("div",{className:"movie-card",children:[Object(l.jsx)("div",{className:"overlay"}),Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}),Object(l.jsx)(x,{type:c,movie:t})]})},f=function(){var e=Object(a.useContext)(O).queue;return Object(l.jsx)("div",{className:"movie-page",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h1",{className:"heading",children:"Queue"}),Object(l.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(l.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(l.jsx)(p,{movie:e,type:"queue"},e.id)}))}):Object(l.jsx)("h2",{className:"no-movies",children:" Add Some Movies to your Queue"})]})})},v=function(){var e=Object(a.useContext)(O).watched;return Object(l.jsx)("div",{className:"movie-page",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h1",{className:"heading",children:"Already Seen "}),Object(l.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(l.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(l.jsx)(p,{movie:e,type:"watched"},e.id)}))}):Object(l.jsx)("h2",{className:"no-movies",children:"Go Watch Some Movies!!!"})]})})},g=c(33),N=c.n(g),y=function(e){var t=e.movie,c=Object(a.useContext)(O),s=c.addMovieToQueue,n=c.addMovieToWatched,r=c.queue,i=c.watched,o=r.find((function(e){return e.id===t.id})),d=i.find((function(e){return e.id===t.id})),j=!!o||!!d,u=!!d;return Object(l.jsxs)("div",{className:"result-card",children:[Object(l.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(l.jsx)("div",{className:"filler-poster"})}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h3",{className:"title",children:t.title}),Object(l.jsx)("h4",{className:"release-date",children:Object(l.jsx)(N.a,{format:"YYYY",children:t.release_date})})]}),Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsx)("button",{className:"btn",disabled:j,onClick:function(){return s(t)},children:"My Queue"}),Object(l.jsx)("button",{className:"btn",disabled:u,onClick:function(){return n(t)},children:"Add to Watched"})]})]})]})},w=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(d.a)(n,2),i=r[0],o=r[1];return Object(l.jsx)("div",{className:"add-page",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"add-content",children:[Object(l.jsx)("div",{className:"input-wrapper",children:Object(l.jsx)("input",{type:"text",placeholder:"Search for a movie",value:c,onChange:function(e){e.preventDefault(),s(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("70c970b8f10bff044f6d5fab660d1c0c","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?o([]):o(e.results)}))}})}),i.length>0&&Object(l.jsx)("ul",{className:"results",children:i.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(y,{movie:e})},e.id)}))})]})})})},E=c(15),_=c(16),M=c(36),S=c(35),q=function(e){Object(M.a)(c,e);var t=Object(S.a)(c);function c(){return Object(E.a)(this,c),t.apply(this,arguments)}return Object(_.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("form",{children:[Object(l.jsx)("h3",{children:"Sign In"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Email address"}),Object(l.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password"})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(l.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(l.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit"}),Object(l.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(l.jsx)("a",{href:"#",children:"password?"})]})]})}}]),c}(a.Component),C=c(34),T=c.n(C),k=function(e){return T.a.post("/api/user/signin",e)},F=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),s=Object(a.useRef)();return Object(l.jsxs)("form",{onSubmit:function(a){a.preventDefault(),console.log(e.current.value),console.log(t.current.value),console.log(c.current.value),console.log(s.current.value),k({firstName:e.current.value,lastName:t.current.value,email:c.current.value,password:s.current.value}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),e.current.value="",t.current.value="",c.current.value="",s.current.value=""},children:[Object(l.jsx)("h3",{children:"Sign Up"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"First name"}),Object(l.jsx)("input",{type:"text",className:"form-control",required:!0,ref:e,id:"firstName",placeholder:"First name"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Last name"}),Object(l.jsx)("input",{type:"text",className:"form-control",required:!0,ref:t,id:"lastName",placeholder:"Last name"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Email address"}),Object(l.jsx)("input",{type:"email",className:"form-control",required:!0,ref:c,id:"email",placeholder:"Enter email"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",required:!0,ref:s,id:"password",placeholder:"Enter password"})]}),Object(l.jsx)("a",{type:"submit",className:"btn btn-primary btn-block",href:"/add",children:"Sign Up"}),Object(l.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(l.jsx)("a",{href:"/add",children:"Sign in?"})]})]})};c(69),c(70);var Q=function(){return Object(l.jsx)(m,{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(o,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",children:Object(l.jsx)(f,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/add",children:Object(l.jsx)(w,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/watched",children:Object(l.jsx)(v,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/login",children:Object(l.jsx)(q,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/signUp",children:Object(l.jsx)(F,{})})]})]})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};c(71);n.a.render(Object(l.jsx)(r.a,{children:Object(l.jsx)(Q,{})}),document.getElementById("root")),U()}},[[72,1,2]]]);
//# sourceMappingURL=main.036879cd.chunk.js.map